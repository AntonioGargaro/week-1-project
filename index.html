<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Project</title>
    <link rel="stylesheet" href="style.css">
  </head>

  <body>

    <main>
        <FORM NAME="myform" ACTION="" METHOD="GET">
        <p>
            <INPUT
            id="name"
            TYPE="text"
            placeholder="your name"
            NAME="inputbox"
            VALUE=""
            />
            <label for="name">Enter your name...</label>
        </p>
        <fieldset class="starsign-fieldset">
            <legend>Starsign Horoscope</legend>
            <div class ="starsign-input-row">
                <label for="myList" class="flex-grow input-row-item">Do you know your starsign?</label>
                <select id="myList" class="flex-grow input-row-item">
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
            </div>

            <!--<INPUT TYPE="button" NAME="button" Value="Click" onClick="testResults(this.form)"> -->

            <div class ="starsign-input-row" id="dateInput" style="display:none;">
              <label for="bday" class="flex-grow input-row-item">When is your birthday?</label>
              <input id="bday" type="date" name="bday" min="1900-01-01"  class="flex-grow input-row-item"/>
            </div>

            <div class ="starsign-input-row" id="starsignInput">
                <label for="starsignList" class="flex-grow input-row-item">What is your starsign?</label>
                <select id="starsignList" class="flex-grow input-row-item">
                    <option value="Aries">Aries</option>
                    <option value="Taurus">Taurus</option>
                    <option value="Gemini">Gemini</option>
                    <option value="Cancer">Cancer</option>
                    <option value="Leo">Leo</option>
                    <option value="Virgo">Virgo</option>
                    <option value="Libra">Libra</option>
                    <option value="Scorpio">Scorpio</option>
                    <option value="Sagittarius">Sagittarius</option>
                    <option value="Capricorn">Capricorn</option>
                    <option value="Aquarius">Aquarius</option>
                    <option value="Pisces">Pisces</option>
                </select>
            </div>
        </fieldset>
        </FORM>
    </main>
  </body>

  <script>
    document
      .getElementById("myList")
      .addEventListener("change", function(event) {
        if (event.target.value === "Yes") {
          document.getElementById("starsignInput").style.display = "block";
          document.getElementById("dateInput").style.display = "none";
        } else {
          document.getElementById("starsignInput").style.display = "none";
          document.getElementById("dateInput").style.display = "block";
        }
      });

    document.getElementById("bday").addEventListener("change", function(event) {
      let birthday = new Date(event.target.value);
      let date = birthday.getDate();
      let month = birthday.getMonth() + 1;

      let value;

      if ((month == 1 && date >= 21) || (month == 2 && date <= 19)) {
        value = "Aquarius";
      }
      if ((month == 2 && date >= 20) || (month == 3 && date <= 20)) {
        value = "Pisces";
      }
      if ((month == 3 && date >= 21) || (month == 4 && date <= 19)) {
        value = "Aries";
      }
      if ((month == 4 && date >= 21) || (month == 5 && date <= 21)) {
        value = "Taurus";
      }
      if ((month == 5 && date >= 22) || (month == 6 && date <= 21)) {
        value = "Gemini";
      }
      if ((month == 6 && date >= 22) || (month == 7 && date <= 23)) {
        value = "Cancer";
      }
      if ((month == 7 && date >= 24) || (month == 8 && date <= 23)) {
        value = "Leo";
      }
      if ((month == 8 && date >= 24) || (month == 9 && date <= 23)) {
        value = "Virgo";
      }
      if ((month == 9 && date >= 24) || (month == 10 && date <= 23)) {
        value = "Libra";
      }
      if ((month == 10 && date >= 24) || (month == 11 && date <= 22)) {
        value = "Scorpio";
      }
      if ((month == 11 && date >= 23) || (month == 12 && date <= 21)) {
        value = "Sagittarius";
      }
      if ((month == 12 && date >= 22) || (month == 1 && date <= 20)) {
        value = "Capricorn";
      }

      addStarsignToPage(value);
    });


    document
      .getElementById("starsignList")
      .addEventListener("change", function(event) {
        addStarsignToPage(event.target.value);

      });



    function addStarsignToPage(starsign) {
      let pelement = document.getElementById("starsignpara");
      if (pelement) {
        pelement.textContent = starsign;
      } else {
        let para = document.createElement("p");
        para.setAttribute("id", "starsignpara");
        let node = document.createTextNode(starsign);
        para.appendChild(node);
        document.body.appendChild(para);
      }
    }
  </script>
</html>
